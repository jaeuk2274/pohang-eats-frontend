[{"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/reportWebVitals.ts":"1","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/create-account.tsx":"2","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/apollo.ts":"3","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/App.tsx":"4","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/login.tsx":"5","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/index.tsx":"6","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/components/form-error.tsx":"7","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/components/button.tsx":"8","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/constants.ts":"9","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/routers/logged-in-router.tsx":"10","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/components/header.tsx":"11","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/routers/logged-out-router.tsx":"12","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/hooks/useMe.tsx":"13","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/user/confirm-email.tsx":"14","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/user/edit-profile.tsx":"15"},{"size":425,"mtime":1610454173605,"results":"16","hashOfConfig":"17"},{"size":4286,"mtime":1610897239056,"results":"18","hashOfConfig":"17"},{"size":1133,"mtime":1610978564478,"results":"19","hashOfConfig":"17"},{"size":457,"mtime":1610526481295,"results":"20","hashOfConfig":"17"},{"size":3918,"mtime":1610977706169,"results":"21","hashOfConfig":"17"},{"size":753,"mtime":1610977514081,"results":"22","hashOfConfig":"17"},{"size":228,"mtime":1610879068413,"results":"23","hashOfConfig":"17"},{"size":486,"mtime":1610890254437,"results":"24","hashOfConfig":"17"},{"size":48,"mtime":1610976902841,"results":"25","hashOfConfig":"17"},{"size":1199,"mtime":1611764145165,"results":"26","hashOfConfig":"17"},{"size":1153,"mtime":1611764892909,"results":"27","hashOfConfig":"17"},{"size":752,"mtime":1611066004701,"results":"28","hashOfConfig":"17"},{"size":280,"mtime":1611665921609,"results":"29","hashOfConfig":"17"},{"size":1722,"mtime":1611764063119,"results":"30","hashOfConfig":"17"},{"size":2929,"mtime":1611765137984,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1oo0p0x",{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/reportWebVitals.ts",[],["68","69"],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/create-account.tsx",["70","71","72","73"],"import { gql, useMutation } from \"@apollo/client\";\nimport React from \"react\";\nimport Helmet from \"react-helmet\";\nimport { useForm } from \"react-hook-form\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Button } from \"../components/button\";\nimport { FormError } from \"../components/form-error\";\nimport poberLogo from \"../images/logo.svg\";\nimport { createAccountMutation, createAccountMutationVariables } from \"../__generated__/createAccountMutation\";\nimport { UserRole } from \"../__generated__/globalTypes\";\n\nconst CREATE_ACCOUNT_MUTATION = gql`\n  mutation createAccountMutation($createAccountInput: CreateAccountInput!) {\n    createAccount(input: $createAccountInput) {\n      ok\n      error\n    }\n  }\n`;\n\ninterface ICreateAccountForm {\n  email: string;\n  password: string;\n  role: UserRole;\n}\n\nexport const CreateAccount = () => {\n  const {\n    register,\n    getValues,\n    watch,\n    errors,\n    handleSubmit,\n    formState,\n  } = useForm<ICreateAccountForm>({\n    mode: \"onChange\",\n    defaultValues: {\n      role: UserRole.Client,\n    },\n  });\n  const history = useHistory();\n  const onCompleted = (data: createAccountMutation) => {\n    const {\n      createAccount: { ok },\n    } = data;\n    if (ok) {\n      history.push(\"/login\");\n    }\n  };\n  const [\n    createAccountMutation,\n    { loading, data: createAccountMutationResult },\n  ] = useMutation<createAccountMutation, createAccountMutationVariables>(\n    CREATE_ACCOUNT_MUTATION,\n    {\n      onCompleted,\n    }\n  );\n  const onSubmit = () => {\n    if (!loading) {\n      const { email, password, role } = getValues();\n      createAccountMutation({\n        variables: {\n          createAccountInput: { email, password, role },\n        },\n      });\n    }\n  };\n  return (\n    <div className=\"h-screen flex items-center flex-col mt-10 lg:mt-28\">\n      <Helmet>\n        <title>Create Account | Pohang Eats</title>\n      </Helmet>\n      <div className=\"w-full max-w-screen-sm flex flex-col px-5 items-center\">\n        <img src={poberLogo} className=\"w-52 mb-10\" />\n        <h4 className=\"w-full font-medium text-left text-3xl mb-5\">\n          Let's get started\n        </h4>\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"grid gap-3 mt-5 w-full mb-5\"\n        >\n          <input\n            ref={register({\n              required: \"Email is required\",\n              pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n            })}\n            name=\"email\"\n            required\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"input\"\n          />\n          {errors.email?.message && (\n            <FormError errorMessage={errors.email?.message} />\n          )}\n          {errors.email?.type === \"pattern\" && (\n            <FormError errorMessage={\"Please enter a valid email\"} />\n          )}          \n          <input\n            ref={register({ required: \"Password is required\" })}\n            required\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"input\"\n          />\n          {errors.password?.message && (\n            <FormError errorMessage={errors.password?.message} />\n          )}\n          {errors.password?.type === \"minLength\" && (\n            <FormError errorMessage=\"Password must be more than 10 chars.\" />\n          )}\n          <select\n            name=\"role\"\n            ref={register({ required: true })}\n            className=\"input\"\n          >\n            {Object.keys(UserRole).map((role, index) => (\n              <option key={index}>{role}</option>\n            ))}\n          </select>\n          <Button\n            canClick={formState.isValid}\n            loading={loading}\n            actionText={\"Create Account\"}\n          />\n          {createAccountMutationResult?.createAccount.error && (\n            <FormError\n              errorMessage={createAccountMutationResult.createAccount.error}\n            />\n          )}\n        </form>\n        <div>\n          Already have an account?{\" \"}\n          <Link to=\"/login\" className=\"text-lime-600 hover:underline\">\n            Log in now\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/apollo.ts",[],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/App.tsx",["74","75"],"import { gql, useQuery, useReactiveVar } from '@apollo/client';\nimport React from 'react';\nimport { isLoggedInVar } from './apollo';\nimport { LoggedInRouter } from './routers/logged-in-router';\nimport { LoggedOutRouter } from './routers/logged-out-router';\n\nfunction App() {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  console.log(\"isLoggedIn\", isLoggedIn);\n  return isLoggedIn ? < LoggedInRouter /> : < LoggedOutRouter />;\n}\n\nexport default App;\n","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/login.tsx",["76","77","78","79"],"import { ApolloError, gql, useMutation } from \"@apollo/client\";\nimport React from \"react\";\nimport Helmet from 'react-helmet'\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport { authTokenVar, isLoggedInVar } from \"../apollo\";\nimport { Button } from \"../components/button\";\nimport { FormError } from \"../components/form-error\";\nimport { LOCALSTORAGE_TOKEN } from \"../constants\";\nimport poberLogo from \"../images/logo.svg\";\nimport {\n  loginMutation,\n  loginMutationVariables,\n} from \"../__generated__/loginMutation\";\n\nconst LOGIN_MUTATION = gql`\n  mutation loginMutation($loginInput: LoginInput!) {\n    login(input: $loginInput) {\n      ok\n      token\n      error\n    }\n  }\n`;\n\ninterface ILoginForm {\n  email: string;\n  password: string;\n}\n\nexport const Login = () => {\n  const {\n    register,\n    getValues,\n    errors,\n    handleSubmit,\n    formState,\n  } = useForm<ILoginForm>({\n    mode: \"onChange\",\n  });\n  const onCompleted = (data: loginMutation) => {\n    const {\n      login: { error, ok, token },\n    } = data;\n    if (ok && token) {\n      localStorage.setItem(LOCALSTORAGE_TOKEN, token);\n      authTokenVar(token);\n      isLoggedInVar(true);\n    }\n  };\n  const onError = (error: ApolloError) => {console.log('onError')} // return ok:false는 에러 아님.\n  const [loginMutation, { data: loginMutationResult, loading }] = useMutation<loginMutation, loginMutationVariables>(LOGIN_MUTATION, {\n    onCompleted,\n    onError\n  });;\n  const onSubmit = () => {\n    if(!loading){\n      const { email, password } = getValues();\n      loginMutation({\n        variables: {\n          loginInput: {\n            email,\n            password,\n          },\n        },\n      });\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex items-center flex-col mt-10 lg:mt-28\">\n      <Helmet>\n        <title>Login | Pohang Eats</title>\n      </Helmet>\n      <div className=\"w-full max-w-screen-sm flex flex-col px-5 items-center\">\n        <img src={poberLogo} className=\"w-52 mb-10\" />\n        <h4 className=\"w-full font-medium text-left text-3xl mb-5\">\n          Welcome back\n        </h4>\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"grid gap-3 mt-5 w-full mb-5\"\n        >\n          <input\n            ref={register({\n              required: \"Email is required\",\n              pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n            })}\n            name=\"email\"\n            required\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"input\"\n          />\n          {errors.email?.message && (\n            <FormError errorMessage={errors.email?.message} />\n          )}\n          {errors.email?.type === \"pattern\" && (\n            <FormError errorMessage={\"Please enter a valid email\"} />\n          )}\n          <input\n            ref={register({ required: \"Password is required\" })}\n            required\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"input\"\n          />\n          {errors.password?.message && (\n            <FormError errorMessage={errors.password?.message} />\n          )}\n          {errors.password?.type === \"minLength\" && (\n            <FormError errorMessage=\"Password must be more than 10 chars.\" />\n          )}\n          <Button\n            canClick={formState.isValid}\n            loading={loading}\n            actionText={\"Log in\"}\n          />\n          {loginMutationResult?.login.error && (\n            <FormError errorMessage={loginMutationResult.login.error} />\n          )}\n        </form>\n        <div>\n          New to Pober?{\" \"}\n          <Link to=\"/create-account\" className=\"text-lime-600 hover:underline\">\n            Create an Account\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/index.tsx",[],["80","81"],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/components/form-error.tsx",[],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/components/button.tsx",[],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/constants.ts",[],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/routers/logged-in-router.tsx",["82","83","84"],"import { gql, useQuery } from \"@apollo/client\";\nimport React from \"react\";\nimport { meQuery } from \"../__generated__/meQuery\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport { Restaurants } from \"../pages/client/restaurants\";\nimport { Header } from \"../components/header\";\nimport { useMe } from \"../hooks/useMe\";\nimport { ConfirmEmail } from \"../pages/user/confirm-email\";\nimport { EditProfile } from \"../pages/user/edit-profile\";\n\nconst ClientRoutes = [\n  <Route key={1} path=\"/\" exact>\n    <Restaurants />\n  </Route>,\n  <Route key={2} path=\"/confirm\" exact>\n    <ConfirmEmail />\n  </Route>,\n  <Route key={3} path=\"/edit-profile\" exact>\n    <EditProfile />\n  </Route>,\n];\n\nexport const LoggedInRouter = () => {\n  const { data, loading, error } = useMe();\n  if (!data || loading || error) {\n    return (\n      <div className=\"h-screen flex justify-center items-center\">\n        <span className=\"font-medium text-xl tracking-wide\">Loading...</span>\n      </div>\n    );\n  }\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        {data.me.role === \"Client\" && ClientRoutes}\n        <Redirect to=\"/\" />\n      </Switch>\n    </Router>\n  );\n};","/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/components/header.tsx",[],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/routers/logged-out-router.tsx",["85","86"],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/hooks/useMe.tsx",[],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/user/confirm-email.tsx",["87"],"/Users/jaeuk/development/vscode_project/pohang-eats-frontend/src/pages/user/edit-profile.tsx",["88"],{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":31,"column":5,"nodeType":"95","messageId":"96","endLine":31,"endColumn":10},{"ruleId":"97","severity":1,"message":"98","line":75,"column":9,"nodeType":"99","endLine":75,"endColumn":55},{"ruleId":"100","severity":1,"message":"101","line":86,"column":34,"nodeType":"102","messageId":"103","endLine":86,"endColumn":35,"suggestions":"104"},{"ruleId":"100","severity":1,"message":"101","line":86,"column":59,"nodeType":"102","messageId":"103","endLine":86,"endColumn":60,"suggestions":"105"},{"ruleId":"93","severity":1,"message":"106","line":1,"column":10,"nodeType":"95","messageId":"96","endLine":1,"endColumn":13},{"ruleId":"93","severity":1,"message":"107","line":1,"column":15,"nodeType":"95","messageId":"96","endLine":1,"endColumn":23},{"ruleId":"93","severity":1,"message":"108","line":43,"column":16,"nodeType":"95","messageId":"96","endLine":43,"endColumn":21},{"ruleId":"97","severity":1,"message":"98","line":76,"column":9,"nodeType":"99","endLine":76,"endColumn":55},{"ruleId":"100","severity":1,"message":"101","line":87,"column":34,"nodeType":"102","messageId":"103","endLine":87,"endColumn":35,"suggestions":"109"},{"ruleId":"100","severity":1,"message":"101","line":87,"column":59,"nodeType":"102","messageId":"103","endLine":87,"endColumn":60,"suggestions":"110"},{"ruleId":"89","replacedBy":"111"},{"ruleId":"91","replacedBy":"112"},{"ruleId":"93","severity":1,"message":"106","line":1,"column":10,"nodeType":"95","messageId":"96","endLine":1,"endColumn":13},{"ruleId":"93","severity":1,"message":"107","line":1,"column":15,"nodeType":"95","messageId":"96","endLine":1,"endColumn":23},{"ruleId":"93","severity":1,"message":"113","line":3,"column":10,"nodeType":"95","messageId":"96","endLine":3,"endColumn":17},{"ruleId":"93","severity":1,"message":"114","line":2,"column":10,"nodeType":"95","messageId":"96","endLine":2,"endColumn":17},{"ruleId":"93","severity":1,"message":"115","line":3,"column":10,"nodeType":"95","messageId":"96","endLine":3,"endColumn":23},{"ruleId":"93","severity":1,"message":"116","line":50,"column":12,"nodeType":"95","messageId":"96","endLine":50,"endColumn":13},{"ruleId":"93","severity":1,"message":"117","line":25,"column":27,"nodeType":"95","messageId":"96","endLine":25,"endColumn":34},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"@typescript-eslint/no-unused-vars","'watch' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["120","121"],["122","123"],"'gql' is defined but never used.","'useQuery' is defined but never used.","'error' is assigned a value but never used.",["124","125"],["126","127"],["118"],["119"],"'meQuery' is defined but never used.","'useForm' is defined but never used.","'isLoggedInVar' is defined but never used.","'_' is assigned a value but never used.","'refetch' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"messageId":"128","fix":"129","desc":"130"},{"messageId":"131","fix":"132","desc":"133"},{"messageId":"128","fix":"134","desc":"130"},{"messageId":"131","fix":"135","desc":"133"},{"messageId":"128","fix":"136","desc":"130"},{"messageId":"131","fix":"137","desc":"133"},{"messageId":"128","fix":"138","desc":"130"},{"messageId":"131","fix":"139","desc":"133"},"removeEscape",{"range":"140","text":"141"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"142","text":"143"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"144","text":"141"},{"range":"145","text":"143"},{"range":"146","text":"141"},{"range":"147","text":"143"},{"range":"148","text":"141"},{"range":"149","text":"143"},[2382,2383],"",[2382,2382],"\\",[2407,2408],[2407,2407],[2350,2351],[2350,2350],[2375,2376],[2375,2375]]