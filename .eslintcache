[{"T:\\vsCodeProject\\pohang-eats-frontend\\src\\apollo.ts":"1","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\login.tsx":"2","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\confirm-email.tsx":"3","T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\header.tsx":"4","T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-out-router.tsx":"5","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\client\\restaurants.tsx":"6","T:\\vsCodeProject\\pohang-eats-frontend\\src\\App.tsx":"7","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\edit-profile.tsx":"8","T:\\vsCodeProject\\pohang-eats-frontend\\src\\hooks\\useMe.tsx":"9","T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-in-router.tsx":"10","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\404.tsx":"11","T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\button.tsx":"12","T:\\vsCodeProject\\pohang-eats-frontend\\src\\reportWebVitals.ts":"13","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\create-account.tsx":"14"},{"size":1178,"mtime":1611726827366,"results":"15","hashOfConfig":"16"},{"size":4050,"mtime":1611726827393,"results":"17","hashOfConfig":"16"},{"size":1792,"mtime":1611804289442,"results":"18","hashOfConfig":"16"},{"size":1184,"mtime":1611804244742,"results":"19","hashOfConfig":"16"},{"size":778,"mtime":1611726827399,"results":"20","hashOfConfig":"16"},{"size":1958,"mtime":1611808996181,"results":"21","hashOfConfig":"16"},{"size":470,"mtime":1610504616074,"results":"22","hashOfConfig":"16"},{"size":3211,"mtime":1611804313575,"results":"23","hashOfConfig":"16"},{"size":296,"mtime":1611726827376,"results":"24","hashOfConfig":"16"},{"size":1244,"mtime":1611803292154,"results":"25","hashOfConfig":"16"},{"size":605,"mtime":1611804270457,"results":"26","hashOfConfig":"16"},{"size":508,"mtime":1611726827369,"results":"27","hashOfConfig":"16"},{"size":440,"mtime":1610501939834,"results":"28","hashOfConfig":"16"},{"size":4492,"mtime":1611726827390,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1d63ala",{"filePath":"33","messages":"34","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"T:\\vsCodeProject\\pohang-eats-frontend\\src\\apollo.ts",[],["62","63"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\login.tsx",["64","65","66","67"],"import { ApolloError, gql, useMutation } from \"@apollo/client\";\r\nimport React from \"react\";\r\nimport Helmet from 'react-helmet'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { authTokenVar, isLoggedInVar } from \"../apollo\";\r\nimport { Button } from \"../components/button\";\r\nimport { FormError } from \"../components/form-error\";\r\nimport { LOCALSTORAGE_TOKEN } from \"../constants\";\r\nimport poberLogo from \"../images/logo.svg\";\r\nimport {\r\n  loginMutation,\r\n  loginMutationVariables,\r\n} from \"../__generated__/loginMutation\";\r\n\r\nconst LOGIN_MUTATION = gql`\r\n  mutation loginMutation($loginInput: LoginInput!) {\r\n    login(input: $loginInput) {\r\n      ok\r\n      token\r\n      error\r\n    }\r\n  }\r\n`;\r\n\r\ninterface ILoginForm {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport const Login = () => {\r\n  const {\r\n    register,\r\n    getValues,\r\n    errors,\r\n    handleSubmit,\r\n    formState,\r\n  } = useForm<ILoginForm>({\r\n    mode: \"onChange\",\r\n  });\r\n  const onCompleted = (data: loginMutation) => {\r\n    const {\r\n      login: { error, ok, token },\r\n    } = data;\r\n    if (ok && token) {\r\n      localStorage.setItem(LOCALSTORAGE_TOKEN, token);\r\n      authTokenVar(token);\r\n      isLoggedInVar(true);\r\n    }\r\n  };\r\n  const onError = (error: ApolloError) => {console.log('onError')} // return ok:false는 에러 아님.\r\n  const [loginMutation, { data: loginMutationResult, loading }] = useMutation<loginMutation, loginMutationVariables>(LOGIN_MUTATION, {\r\n    onCompleted,\r\n    onError\r\n  });;\r\n  const onSubmit = () => {\r\n    if(!loading){\r\n      const { email, password } = getValues();\r\n      loginMutation({\r\n        variables: {\r\n          loginInput: {\r\n            email,\r\n            password,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen flex items-center flex-col mt-10 lg:mt-28\">\r\n      <Helmet>\r\n        <title>Login | Pohang Eats</title>\r\n      </Helmet>\r\n      <div className=\"w-full max-w-screen-sm flex flex-col px-5 items-center\">\r\n        <img src={poberLogo} className=\"w-52 mb-10\" />\r\n        <h4 className=\"w-full font-medium text-left text-3xl mb-5\">\r\n          Welcome back\r\n        </h4>\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"grid gap-3 mt-5 w-full mb-5\"\r\n        >\r\n          <input\r\n            ref={register({\r\n              required: \"Email is required\",\r\n              pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n            })}\r\n            name=\"email\"\r\n            required\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"input\"\r\n          />\r\n          {errors.email?.message && (\r\n            <FormError errorMessage={errors.email?.message} />\r\n          )}\r\n          {errors.email?.type === \"pattern\" && (\r\n            <FormError errorMessage={\"Please enter a valid email\"} />\r\n          )}\r\n          <input\r\n            ref={register({ required: \"Password is required\" })}\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"input\"\r\n          />\r\n          {errors.password?.message && (\r\n            <FormError errorMessage={errors.password?.message} />\r\n          )}\r\n          {errors.password?.type === \"minLength\" && (\r\n            <FormError errorMessage=\"Password must be more than 10 chars.\" />\r\n          )}\r\n          <Button\r\n            canClick={formState.isValid}\r\n            loading={loading}\r\n            actionText={\"Log in\"}\r\n          />\r\n          {loginMutationResult?.login.error && (\r\n            <FormError errorMessage={loginMutationResult.login.error} />\r\n          )}\r\n        </form>\r\n        <div>\r\n          New to Pober?{\" \"}\r\n          <Link to=\"/create-account\" className=\"text-lime-600 hover:underline\">\r\n            Create an Account\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};",["68","69"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\confirm-email.tsx",["70"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\header.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-out-router.tsx",["71","72"],"import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { isLoggedInVar } from \"../apollo\";\r\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\"\r\nimport { CreateAccount } from \"../pages/create-account\";\r\nimport { Login } from \"../pages/login\";\r\nimport { NotFound } from \"../pages/404\";\r\n\r\n\r\nexport const LoggedOutRouter = () => {\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/create-account\">\r\n                    <CreateAccount />\r\n                </Route>\r\n                <Route path=\"/\" exact>\r\n                    <Login />\r\n                </Route>\r\n                <Route>\r\n                  <NotFound />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    );\r\n  };","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\client\\restaurants.tsx",["73"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\App.tsx",["74","75"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\edit-profile.tsx",["76"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\hooks\\useMe.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-in-router.tsx",["77","78","79"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\404.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\button.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\reportWebVitals.ts",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\create-account.tsx",["80","81","82"],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":43,"column":16,"nodeType":"89","messageId":"90","endLine":43,"endColumn":21},{"ruleId":"91","severity":1,"message":"92","line":76,"column":9,"nodeType":"93","endLine":76,"endColumn":55},{"ruleId":"94","severity":1,"message":"95","line":87,"column":34,"nodeType":"96","messageId":"97","endLine":87,"endColumn":35,"suggestions":"98"},{"ruleId":"94","severity":1,"message":"95","line":87,"column":59,"nodeType":"96","messageId":"97","endLine":87,"endColumn":60,"suggestions":"99"},{"ruleId":"83","replacedBy":"100"},{"ruleId":"85","replacedBy":"101"},{"ruleId":"87","severity":1,"message":"102","line":50,"column":12,"nodeType":"89","messageId":"90","endLine":50,"endColumn":13},{"ruleId":"87","severity":1,"message":"103","line":2,"column":10,"nodeType":"89","messageId":"90","endLine":2,"endColumn":17},{"ruleId":"87","severity":1,"message":"104","line":3,"column":10,"nodeType":"89","messageId":"90","endLine":3,"endColumn":23},{"ruleId":"87","severity":1,"message":"88","line":42,"column":26,"nodeType":"89","messageId":"90","endLine":42,"endColumn":31},{"ruleId":"87","severity":1,"message":"105","line":1,"column":10,"nodeType":"89","messageId":"90","endLine":1,"endColumn":13},{"ruleId":"87","severity":1,"message":"106","line":1,"column":15,"nodeType":"89","messageId":"90","endLine":1,"endColumn":23},{"ruleId":"87","severity":1,"message":"107","line":26,"column":27,"nodeType":"89","messageId":"90","endLine":26,"endColumn":34},{"ruleId":"87","severity":1,"message":"105","line":1,"column":10,"nodeType":"89","messageId":"90","endLine":1,"endColumn":13},{"ruleId":"87","severity":1,"message":"106","line":1,"column":15,"nodeType":"89","messageId":"90","endLine":1,"endColumn":23},{"ruleId":"87","severity":1,"message":"108","line":3,"column":10,"nodeType":"89","messageId":"90","endLine":3,"endColumn":17},{"ruleId":"87","severity":1,"message":"109","line":31,"column":5,"nodeType":"89","messageId":"90","endLine":31,"endColumn":10},{"ruleId":"94","severity":1,"message":"95","line":87,"column":34,"nodeType":"96","messageId":"97","endLine":87,"endColumn":35,"suggestions":"110"},{"ruleId":"94","severity":1,"message":"95","line":87,"column":59,"nodeType":"96","messageId":"97","endLine":87,"endColumn":60,"suggestions":"111"},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"@typescript-eslint/no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["114","115"],["116","117"],["112"],["113"],"'_' is assigned a value but never used.","'useForm' is defined but never used.","'isLoggedInVar' is defined but never used.","'gql' is defined but never used.","'useQuery' is defined but never used.","'refetch' is assigned a value but never used.","'meQuery' is defined but never used.","'watch' is assigned a value but never used.",["118","119"],["120","121"],"no-global-assign","no-unsafe-negation",{"messageId":"122","fix":"123","desc":"124"},{"messageId":"125","fix":"126","desc":"127"},{"messageId":"122","fix":"128","desc":"124"},{"messageId":"125","fix":"129","desc":"127"},{"messageId":"122","fix":"130","desc":"124"},{"messageId":"125","fix":"131","desc":"127"},{"messageId":"122","fix":"132","desc":"124"},{"messageId":"125","fix":"133","desc":"127"},"removeEscape",{"range":"134","text":"135"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"136","text":"137"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"138","text":"135"},{"range":"139","text":"137"},{"range":"140","text":"135"},{"range":"141","text":"137"},{"range":"142","text":"135"},{"range":"143","text":"137"},[2436,2437],"",[2436,2436],"\\",[2461,2462],[2461,2461],[2536,2537],[2536,2536],[2561,2562],[2561,2561]]