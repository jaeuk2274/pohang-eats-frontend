[{"T:\\vsCodeProject\\pohang-eats-frontend\\src\\apollo.ts":"1","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\login.tsx":"2","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\confirm-email.tsx":"3","T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\header.tsx":"4","T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-out-router.tsx":"5","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\client\\restaurants.tsx":"6","T:\\vsCodeProject\\pohang-eats-frontend\\src\\App.tsx":"7","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\edit-profile.tsx":"8","T:\\vsCodeProject\\pohang-eats-frontend\\src\\hooks\\useMe.tsx":"9","T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-in-router.tsx":"10","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\404.tsx":"11","T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\button.tsx":"12","T:\\vsCodeProject\\pohang-eats-frontend\\src\\reportWebVitals.ts":"13","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\create-account.tsx":"14"},{"size":1178,"mtime":1611726827366,"results":"15","hashOfConfig":"16"},{"size":4050,"mtime":1611726827393,"results":"17","hashOfConfig":"16"},{"size":1792,"mtime":1611804289442,"results":"18","hashOfConfig":"16"},{"size":1184,"mtime":1611804244742,"results":"19","hashOfConfig":"16"},{"size":778,"mtime":1611726827399,"results":"20","hashOfConfig":"16"},{"size":1958,"mtime":1611808996181,"results":"21","hashOfConfig":"16"},{"size":470,"mtime":1610504616074,"results":"22","hashOfConfig":"16"},{"size":3211,"mtime":1611804313575,"results":"23","hashOfConfig":"16"},{"size":296,"mtime":1611726827376,"results":"24","hashOfConfig":"16"},{"size":1244,"mtime":1611803292154,"results":"25","hashOfConfig":"16"},{"size":605,"mtime":1611804270457,"results":"26","hashOfConfig":"16"},{"size":508,"mtime":1611726827369,"results":"27","hashOfConfig":"16"},{"size":440,"mtime":1610501939834,"results":"28","hashOfConfig":"16"},{"size":4492,"mtime":1611726827390,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1d63ala",{"filePath":"33","messages":"34","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"T:\\vsCodeProject\\pohang-eats-frontend\\src\\apollo.ts",[],["65","66"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\login.tsx",["67","68","69","70"],"import { ApolloError, gql, useMutation } from \"@apollo/client\";\r\nimport React from \"react\";\r\nimport Helmet from 'react-helmet'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { authTokenVar, isLoggedInVar } from \"../apollo\";\r\nimport { Button } from \"../components/button\";\r\nimport { FormError } from \"../components/form-error\";\r\nimport { LOCALSTORAGE_TOKEN } from \"../constants\";\r\nimport poberLogo from \"../images/logo.svg\";\r\nimport {\r\n  loginMutation,\r\n  loginMutationVariables,\r\n} from \"../__generated__/loginMutation\";\r\n\r\nconst LOGIN_MUTATION = gql`\r\n  mutation loginMutation($loginInput: LoginInput!) {\r\n    login(input: $loginInput) {\r\n      ok\r\n      token\r\n      error\r\n    }\r\n  }\r\n`;\r\n\r\ninterface ILoginForm {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport const Login = () => {\r\n  const {\r\n    register,\r\n    getValues,\r\n    errors,\r\n    handleSubmit,\r\n    formState,\r\n  } = useForm<ILoginForm>({\r\n    mode: \"onChange\",\r\n  });\r\n  const onCompleted = (data: loginMutation) => {\r\n    const {\r\n      login: { error, ok, token },\r\n    } = data;\r\n    if (ok && token) {\r\n      localStorage.setItem(LOCALSTORAGE_TOKEN, token);\r\n      authTokenVar(token);\r\n      isLoggedInVar(true);\r\n    }\r\n  };\r\n  const onError = (error: ApolloError) => {console.log('onError')} // return ok:false는 에러 아님.\r\n  const [loginMutation, { data: loginMutationResult, loading }] = useMutation<loginMutation, loginMutationVariables>(LOGIN_MUTATION, {\r\n    onCompleted,\r\n    onError\r\n  });;\r\n  const onSubmit = () => {\r\n    if(!loading){\r\n      const { email, password } = getValues();\r\n      loginMutation({\r\n        variables: {\r\n          loginInput: {\r\n            email,\r\n            password,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen flex items-center flex-col mt-10 lg:mt-28\">\r\n      <Helmet>\r\n        <title>Login | Pohang Eats</title>\r\n      </Helmet>\r\n      <div className=\"w-full max-w-screen-sm flex flex-col px-5 items-center\">\r\n        <img src={poberLogo} className=\"w-52 mb-10\" />\r\n        <h4 className=\"w-full font-medium text-left text-3xl mb-5\">\r\n          Welcome back\r\n        </h4>\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"grid gap-3 mt-5 w-full mb-5\"\r\n        >\r\n          <input\r\n            ref={register({\r\n              required: \"Email is required\",\r\n              pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n            })}\r\n            name=\"email\"\r\n            required\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"input\"\r\n          />\r\n          {errors.email?.message && (\r\n            <FormError errorMessage={errors.email?.message} />\r\n          )}\r\n          {errors.email?.type === \"pattern\" && (\r\n            <FormError errorMessage={\"Please enter a valid email\"} />\r\n          )}\r\n          <input\r\n            ref={register({ required: \"Password is required\" })}\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"input\"\r\n          />\r\n          {errors.password?.message && (\r\n            <FormError errorMessage={errors.password?.message} />\r\n          )}\r\n          {errors.password?.type === \"minLength\" && (\r\n            <FormError errorMessage=\"Password must be more than 10 chars.\" />\r\n          )}\r\n          <Button\r\n            canClick={formState.isValid}\r\n            loading={loading}\r\n            actionText={\"Log in\"}\r\n          />\r\n          {loginMutationResult?.login.error && (\r\n            <FormError errorMessage={loginMutationResult.login.error} />\r\n          )}\r\n        </form>\r\n        <div>\r\n          New to Pober?{\" \"}\r\n          <Link to=\"/create-account\" className=\"text-lime-600 hover:underline\">\r\n            Create an Account\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};",["71","72"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\confirm-email.tsx",["73"],"import { gql, useApolloClient, useMutation } from \"@apollo/client\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useMe } from \"../../hooks/useMe\";\r\nimport {\r\n  verifyEmail,\r\n  verifyEmailVariables,\r\n} from \"../../__generated__/verifyEmail\";\r\n\r\nconst VERIFY_EMAIL_MUTATION = gql`\r\n  mutation verifyEmail($input: VerifyEmailInput!) {\r\n    verifyEmail(input: $input) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ConfirmEmail = () => {\r\n  const { data: userData } = useMe();\r\n  const client = useApolloClient();\r\n  const history = useHistory();\r\n  const onCompleted = (data: verifyEmail) => {\r\n    const {\r\n      verifyEmail: { ok },\r\n    } = data;\r\n    if (ok && userData?.me.id) {\r\n      client.writeFragment({\r\n        id: `User:${userData.me.id}`,\r\n        fragment: gql`\r\n          fragment VerifiedUser on User {\r\n            verified\r\n          }\r\n        `,\r\n        data: {\r\n          verified: true,\r\n        },\r\n      });\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n  const [verifyEmail] = useMutation<verifyEmail, verifyEmailVariables>(\r\n    VERIFY_EMAIL_MUTATION,\r\n    {\r\n      onCompleted,\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    const [_, code] = window.location.href.split(\"code=\");\r\n    verifyEmail({\r\n      variables: {\r\n        input: {\r\n          code,\r\n        },\r\n      },\r\n    });\r\n  }, [verifyEmail]);\r\n  return (\r\n    <div className=\"mt-52 flex flex-col items-center justify-center\">\r\n      <Helmet>\r\n        <title>Verify Email | Pohang Eats</title>\r\n      </Helmet>\r\n      <h2 className=\"text-lg mb-1 font-medium\">Confirming email...</h2>\r\n      <h4 className=\"text-gray-700 text-sm\">\r\n        Please wait, don't close this page...\r\n      </h4>\r\n    </div>\r\n  );\r\n};","T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\header.tsx",[],["74","75"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-out-router.tsx",["76","77"],"import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { isLoggedInVar } from \"../apollo\";\r\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\"\r\nimport { CreateAccount } from \"../pages/create-account\";\r\nimport { Login } from \"../pages/login\";\r\nimport { NotFound } from \"../pages/404\";\r\n\r\n\r\nexport const LoggedOutRouter = () => {\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/create-account\">\r\n                    <CreateAccount />\r\n                </Route>\r\n                <Route path=\"/\" exact>\r\n                    <Login />\r\n                </Route>\r\n                <Route>\r\n                  <NotFound />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    );\r\n  };","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\client\\restaurants.tsx",["78"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\App.tsx",["79","80"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\user\\edit-profile.tsx",["81"],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\hooks\\useMe.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\routers\\logged-in-router.tsx",["82","83","84"],"import { gql, useQuery } from \"@apollo/client\";\r\nimport React from \"react\";\r\nimport { meQuery } from \"../__generated__/meQuery\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport { Restaurants } from \"../pages/client/restaurants\";\r\nimport { Header } from \"../components/header\";\r\nimport { useMe } from \"../hooks/useMe\";\r\nimport { ConfirmEmail } from \"../pages/user/confirm-email\";\r\nimport { EditProfile } from \"../pages/user/edit-profile\";\r\n\r\nconst ClientRoutes = [\r\n  <Route key={1} path=\"/\" exact>\r\n    <Restaurants />\r\n  </Route>,\r\n  <Route key={2} path=\"/confirm\" exact>\r\n    <ConfirmEmail />\r\n  </Route>,\r\n  <Route key={3} path=\"/edit-profile\" exact>\r\n    <EditProfile />\r\n  </Route>,\r\n];\r\n\r\nexport const LoggedInRouter = () => {\r\n  const { data, loading, error } = useMe();\r\n  if (!data || loading || error) {\r\n    return (\r\n      <div className=\"h-screen flex justify-center items-center\">\r\n        <span className=\"font-medium text-xl tracking-wide\">Loading...</span>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      <Switch>\r\n        {data.me.role === \"Client\" && ClientRoutes}\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};","T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\404.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\components\\button.tsx",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\reportWebVitals.ts",[],"T:\\vsCodeProject\\pohang-eats-frontend\\src\\pages\\create-account.tsx",["85","86","87"],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":43,"column":16,"nodeType":"94","messageId":"95","endLine":43,"endColumn":21},{"ruleId":"96","severity":1,"message":"97","line":76,"column":9,"nodeType":"98","endLine":76,"endColumn":55},{"ruleId":"99","severity":1,"message":"100","line":87,"column":34,"nodeType":"101","messageId":"102","endLine":87,"endColumn":35,"suggestions":"103"},{"ruleId":"99","severity":1,"message":"100","line":87,"column":59,"nodeType":"101","messageId":"102","endLine":87,"endColumn":60,"suggestions":"104"},{"ruleId":"88","replacedBy":"105"},{"ruleId":"90","replacedBy":"106"},{"ruleId":"92","severity":1,"message":"107","line":50,"column":12,"nodeType":"94","messageId":"95","endLine":50,"endColumn":13},{"ruleId":"88","replacedBy":"108"},{"ruleId":"90","replacedBy":"109"},{"ruleId":"92","severity":1,"message":"110","line":2,"column":10,"nodeType":"94","messageId":"95","endLine":2,"endColumn":17},{"ruleId":"92","severity":1,"message":"111","line":3,"column":10,"nodeType":"94","messageId":"95","endLine":3,"endColumn":23},{"ruleId":"92","severity":1,"message":"93","line":42,"column":26,"nodeType":"94","messageId":"95","endLine":42,"endColumn":31},{"ruleId":"92","severity":1,"message":"112","line":1,"column":10,"nodeType":"94","messageId":"95","endLine":1,"endColumn":13},{"ruleId":"92","severity":1,"message":"113","line":1,"column":15,"nodeType":"94","messageId":"95","endLine":1,"endColumn":23},{"ruleId":"92","severity":1,"message":"114","line":26,"column":27,"nodeType":"94","messageId":"95","endLine":26,"endColumn":34},{"ruleId":"92","severity":1,"message":"112","line":1,"column":10,"nodeType":"94","messageId":"95","endLine":1,"endColumn":13},{"ruleId":"92","severity":1,"message":"113","line":1,"column":15,"nodeType":"94","messageId":"95","endLine":1,"endColumn":23},{"ruleId":"92","severity":1,"message":"115","line":3,"column":10,"nodeType":"94","messageId":"95","endLine":3,"endColumn":17},{"ruleId":"92","severity":1,"message":"116","line":31,"column":5,"nodeType":"94","messageId":"95","endLine":31,"endColumn":10},{"ruleId":"99","severity":1,"message":"100","line":87,"column":34,"nodeType":"101","messageId":"102","endLine":87,"endColumn":35,"suggestions":"117"},{"ruleId":"99","severity":1,"message":"100","line":87,"column":59,"nodeType":"101","messageId":"102","endLine":87,"endColumn":60,"suggestions":"118"},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"@typescript-eslint/no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["121","122"],["123","124"],["119"],["120"],"'_' is assigned a value but never used.",["119"],["120"],"'useForm' is defined but never used.","'isLoggedInVar' is defined but never used.","'gql' is defined but never used.","'useQuery' is defined but never used.","'refetch' is assigned a value but never used.","'meQuery' is defined but never used.","'watch' is assigned a value but never used.",["125","126"],["127","128"],"no-global-assign","no-unsafe-negation",{"messageId":"129","fix":"130","desc":"131"},{"messageId":"132","fix":"133","desc":"134"},{"messageId":"129","fix":"135","desc":"131"},{"messageId":"132","fix":"136","desc":"134"},{"messageId":"129","fix":"137","desc":"131"},{"messageId":"132","fix":"138","desc":"134"},{"messageId":"129","fix":"139","desc":"131"},{"messageId":"132","fix":"140","desc":"134"},"removeEscape",{"range":"141","text":"142"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"143","text":"144"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"145","text":"142"},{"range":"146","text":"144"},{"range":"147","text":"142"},{"range":"148","text":"144"},{"range":"149","text":"142"},{"range":"150","text":"144"},[2436,2437],"",[2436,2436],"\\",[2461,2462],[2461,2461],[2536,2537],[2536,2536],[2561,2562],[2561,2561]]